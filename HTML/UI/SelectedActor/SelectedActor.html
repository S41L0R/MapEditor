<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="SelectedActor.css" type="text/css" media="screen" charset="utf-8">

  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">

  <title>Actor Editor</title>

</head>

<body>

  <div id="editor"></div>

  <script src="../../lib/ace/ace.js" type="text/javascript" charset="utf-8"></script>
  <script>
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/monokai-custom");
    editor.session.setMode("ace/mode/json");


    //var beautify = ace.require("ace/ext/beautify");
    //beautify.beautify(editor.session);


    const ipc = require('electron').ipcRenderer;

    function Apply() {
      ipc.send('toMainWindow', JSON.parse(editor.session.getValue()));
    }



    ipc.on('toActorEditor', (event, message) => {
      console.log(message); // logs out "Hello second window!"
      //ipc.send('toMainWindow', `This message goes back to the main window.`);
      editor.setValue(JSON.stringify(message.data, null, "\t"));
    })
    window.onload = function() {
      document.getElementById("abc").addEventListener("click", Apply);
      console.log("loaded")
    }
  </script>
</body>
<aside id=SelectedActorSidebar>
  <h1>Actor Editor</h1>
  <p>More stuff will go here.</p>
  <button class="button button1" id="abc">Apply</button>
</aside>

</html>
